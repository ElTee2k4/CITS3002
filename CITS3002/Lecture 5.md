**Network Layer:**

- The DLL has the responsibility of reliably transmitting *frames* across along a single wire (or wireless) link.
- Network Layers responsibility is to get packets from an actual source machine to a destination machine, with many alternating steps along the way.
- Network Layer deals with end-to-end transmission, meaning that multiple nodes are able to communicate with one another even if they are not connected to each other.
	- End-to-end as responsibilities, negotiation etc are generated by the sender and are checked by the receiver in both network layers multiple hops away from each other.
- NOTE: A hop refers to the movement of data from one network device to another as it traverses a network.
	- 1 hop could be from device to router, then to the ISP would be 2 hops and then through several ISPs would add more hops until it reaches the destination router and server.
- Network Layer believes that they are talking to their peer network layer across the network. In reality, packets from the network layer are pushed down to the DLL and traverses the rest and the start of the receiver protocol stack.
- When multiple nodes(and thus hops) are involved, the nodes between sender and receiver are also involved in transmission. Intermediate nodes choose the correct path to take.

*Network Layer basics:*

- *Formal Example throughout this lesson:* PERTH TO SYDNEY - Perth gives message to Adelaide and then to Melbourne and to either direct to Sydney or Canberra.
- Adelaide has two links between Perth and Melbourne. Data that flows on one link is presumably for a destination down another link that isn't itself. They can check this by looking at the address field in the packet header.
	- A packet that isn't for the node that it was sent too and that only has one link, example Perth, is an error. 
	- You could send it back but this could result in inefficient data. Rather then sending message back again, it sends back an error message that can be understood only by the network layer. This traffic is generated by this layer and only is read for this layer

*Objectives:*

- Independence of processor/communication technology, independence of the number, type and topology of the subnets and to provide a uniform addressing scheme for all hosts in the network.

*Dynamic nature of nodes:*

- Intermediate nodes will need to see the network headers so that they can work out where the eventual destination is. Snooping on network headers by non-related nodes can serve as a useful mechanism for dynamic networks to adapt data paths in response to changes in the best traversal path.
	- Any particular node, however, cannot possibly know everything about any node. Every node knows some aspects about its neighbors and those neighbors will know about their neighbors.
- We limit the horizon of how far we look for node information but this information takes time to get the the current node.
	- By the time the information has gotten to the sender, the data could become out of date. 
- Most network nodes users use only have a single link, meaning that most nodes don't have to deal with many of these issues.
	- Thus, it is mostly interior nodes, such as ISPs, that need all of the complexity in their routing decisions. These nodes have default options which are mostly right until an error occurs.
	- If you don't know how to get to a node, you just use the default link transfer path.

*Design of network layer:*

- It needs to be as independent of all constraints possible (such as the OS, type of topology such as WiFi or Ethernet, shape of the networks).
- If devices connect to similar topologies, they might have to change the headers or structure of data. However, we try to simplify this process.

**Relationship between Hosts and Subnets:**

- Network Layer software runs in dedicated devices called routers and the Transport Layer runs in the hosts.
	- Departments in a company are connected together by a form of router which distributes bandwidth across the nodes. This differs from every node being connected to each other.

**Implication for Data Link Layer software:**

- Network Layer is above DLL, which is the only method for the network layer to get rid of its packets.
- Having done its packet routing in the network layer, it has to tell DLL what link the network layer is referring to. This is because every link has a DLL attached to it.
- This is because different DLLs might run on different speeds and have different topologies attached to it. The amount of time it takes to get rid of something is contingent for multiple values